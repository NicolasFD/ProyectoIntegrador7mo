from tkinter import Tk,Label,messagebox,Button
from tkinter.ttk import *
from tkinter import *
from ultralytics import YOLO
import cv2
import math

class almacen:
    def __init__(self, posicion, objeto, ocupado):
        self.posicion=posicion
        self.objeto=objeto
        self.ocupado=ocupado
        self.numero=6
    
    def inicioInventario():
        Inventario=[]
        for i in range(6):
            Inventario.append(almacen(i+1,"N/O",False))
        return Inventario
    
    def agregar(Inventario, posicion, objeto):
        Inventario[posicion-1]=almacen(posicion,objeto,True)
    
    def eliminar(Inventario, posicion):
        Inventario[posicion-1]=almacen(posicion,"N/O",False)
    
    def listar(Inventario):
        List=""
        for obj in Inventario:
            List+=str(obj.posicion)+" "+obj.objeto+"\n"
        return List

    def buscar(Inventario, posicion):
        return Inventario[posicion-1].posicion,Inventario[posicion-1].objeto

Inventario=almacen.inicioInventario()

class Aplicacion:
    def VentanaPregunta():
        Pregunta=Toplevel()

        def getTxt():
            Objeto.set(txtObjeto.get())
            Pregunta.destroy()

        txtAnuncio=Label(Pregunta,text="Objetos encontrados en almacen:")
        txtAnuncio.pack()

        txtLista=Label(Pregunta,text=almacen.listar(Inventario))
        txtLista.pack()

        txtPregunta=Label(Pregunta,text="Con qu√© objeto desea interactuar?")
        txtPregunta.pack()
        
        miFrame=Frame(Pregunta)
        miFrame.pack()
        
        Objeto=StringVar()
        txtObjeto=Entry(miFrame,textvariable=Objeto)
        txtObjeto.pack()

        btnAceptar=Button(miFrame,text="Aceptar",command=lambda:getTxt())
        btnAceptar.pack()

        Pregunta.wait_window()
        return Objeto.get()
        
def Extraer():
    Objeto=Aplicacion.VentanaPregunta()
    print(Objeto)
        
    
def Pintar():
    Objeto=Aplicacion.VentanaPregunta()
        

def Ensamblar():
    Objeto=Aplicacion.VentanaPregunta()

ventana = Tk()
ventana.geometry("150x100")
ventana.title("Rodolfito")

txtTitulo=Label(ventana,text='Panel de control')
txtTitulo.pack()

btnExtraer=Button(ventana,text="Extraer",command=Extraer)
btnExtraer.pack()

btnPintar=Button(ventana,text="Pintar",command=Pintar)
btnPintar.pack()

btnEnsamblar=Button(ventana,text="Ensamblar",command=Ensamblar)
btnEnsamblar.pack()

ventana.mainloop()